# Database Configuration
SUPABASE_DB_URL=postgresql://user:password@host:port/database

# R2 Storage Configuration (Cloudflare R2)
R2_ACCOUNT_ID=your-account-id
R2_ACCESS_KEY_ID=your-access-key
R2_SECRET_ACCESS_KEY=your-secret-key
# Do NOT set IMAGE_BASE_URL here. Define it per dataset in:
#   data/<BUCKET>/url   (e.g., IMAGE_BASE_URL=https://ffffound-images.example.com)
# Bucket selection is done at run-time via BUCKET=<name>, and R2_BUCKET will
# default to BUCKET if R2_BUCKET is not explicitly set.
# Example:
#   BUCKET=fffound pnpm sync
#   BUCKET=memes pnpm sync

# Replicate API Configuration
REPLICATE_API_TOKEN=your-replicate-api-token

# Optional: Override default models
# REPLICATE_TEXT_MODEL=krthr/clip-embeddings:1c0371070cb827ec3c7f2f28adcdde54b50dcd239aa6faea0bc98b174ef03fb4
# REPLICATE_IMAGE_MODEL=krthr/clip-embeddings:1c0371070cb827ec3c7f2f28adcdde54b50dcd239aa6faea0bc98b174ef03fb4
# REPLICATE_TEXT_INPUT_KEY=text
# REPLICATE_IMAGE_INPUT_KEY=image

# Optional: Embedding dimension (default: 768)
EXPECTED_VECTOR_DIM=768

# Local image directory is derived automatically from BUCKET:
#   ./data/${BUCKET}/images
# Avoid setting IMAGES_DIR here unless you need a custom path.

# Optional: Server configuration
PORT=3000
TITLE=Image Search

# Optional: Performance tuning
UPLOAD_CONCURRENCY=8
SKIP_R2_HEAD=false
CONCURRENCY=10
EMBED_LIMIT=100
PG_MAX=5
PG_IDLE=10000
